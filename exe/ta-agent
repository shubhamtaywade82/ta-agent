#!/usr/bin/env ruby
# frozen_string_literal: true

# Use bundler to ensure correct gem versions
begin
  require "bundler/setup"
rescue LoadError
  # Bundler not available, continue without it
end

# Add lib to load path for development mode
lib_path = File.expand_path("../lib", __dir__)
$LOAD_PATH.unshift(lib_path) unless $LOAD_PATH.include?(lib_path)

require "ta-agent"

# CLI entrypoint for ta-agent
#
# Usage:
#   ta-agent analyse SYMBOL
#   ta-agent watch SYMBOL [--interval SECONDS]
#   ta-agent config
#
# This is a skeleton - actual command routing will be implemented
# using TTY::CommandRouter in lib/ta-agent/cli/root.rb
if __FILE__ == $PROGRAM_NAME
  require_relative "../lib/ta-agent/cli/root"
  TaAgent::CLI::Root.call(ARGV)
end
